!function(){"use strict";new MutationObserver(((t,o)=>{for(let o of t)if("childList"===o.type){[...document.querySelectorAll("button")].forEach((t=>{t.setAttribute("content",t.innerText)}))}})).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),(async()=>{const t=await window.roam42.common.getPageUidByTitle("roam/enhance/template-button");let o=(await window.roam42.common.getBlockInfoByUID(t,!0))[0][0].children;document.addEventListener("click",(async e=>{const n=await window.roam42.common.getBlockInfoByUID(t,!0);o=n[0][0].children;const i=e.target;if("BUTTON"!==i.tagName||"bp3-button bp3-small dont-focus-block"!==i.className)return;let c;try{c=window.yoyo.utils.getBlockUidFromId(i.closest(".rm-block__input").id)}catch(e){return console.log(e),void window.roam42.help.displayMessage("找不到 uid",2e3)}c&&o.forEach((async t=>{var o;if(i.innerText.trim()===t.string.trim()){const e=(null===(o=t.children)||void 0===o?void 0:o[0].string).match(/^\`\`\`javascript\n([\s\S]*)\`\`\`$/);if(e){const t=Object.getPrototypeOf((async function(){})).constructor;try{await new t("$currentUid",e[1])(c)}catch(t){console.log(t),window.iziToast.info({position:"topCenter",title:"zh-CN"===navigator.language?"执行错误":"task error"})}}}}))}))})()}();
